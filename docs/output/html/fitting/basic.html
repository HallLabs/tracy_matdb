
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Basic Trainer Documentation &#8212; matdb 0.0.5 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Training Controller Documentation" href="controller.html" />
    <link rel="prev" title="Fitting for MTP Potentials" href="mtp.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="controller.html" title="Training Controller Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mtp.html" title="Fitting for MTP Potentials"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">matdb 0.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fitting.html" accesskey="U">Potential Fitting API</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-matdb.fitting.basic">
<span id="basic-trainer-documentation"></span><h1>Basic Trainer Documentation<a class="headerlink" href="#module-matdb.fitting.basic" title="Permalink to this headline">¶</a></h1>
<p>Implements a basic trainer that train material models.</p>
<dl class="class">
<dt id="matdb.fitting.basic.Trainer">
<em class="property">class </em><code class="descclassname">matdb.fitting.basic.</code><code class="descname">Trainer</code><span class="sig-paren">(</span><em>controller=None</em>, <em>dbs=None</em>, <em>execution={}</em>, <em>split=None</em>, <em>root=None</em>, <em>parent=None</em>, <em>dbfilter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an algorithm that can use a <a class="reference internal" href="../database/utility.html#matdb.database.Database" title="matdb.database.Database"><code class="xref py py-class docutils literal notranslate"><span class="pre">Database</span></code></a> (or set of
databases) to produce a multi-component potential.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>This object provides the following methods that must be overriden:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#matdb.fitting.basic.Trainer.command" title="matdb.fitting.basic.Trainer.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">command()</span></code></a> must setup any dependencies in the folder that the
training executable requires.</li>
<li><a class="reference internal" href="#matdb.fitting.basic.Trainer.status" title="matdb.fitting.basic.Trainer.status"><code class="xref py py-meth docutils literal notranslate"><span class="pre">status()</span></code></a> should return either a dictionary or a printed status
message describing the fitting status.</li>
<li><a class="reference internal" href="#matdb.fitting.basic.Trainer.get_calculator" title="matdb.fitting.basic.Trainer.get_calculator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_calculator()</span></code></a> should return an <code class="xref py py-class docutils literal notranslate"><span class="pre">ase.Calculator</span></code> that can
compute energies, forces and virial tensors. <strong>IMPORTANT</strong>: this method
should be able to produce a calculator using only computation
done by <a class="reference internal" href="#matdb.fitting.basic.Trainer.command" title="matdb.fitting.basic.Trainer.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">command()</span></code></a> and <a class="reference internal" href="#matdb.fitting.basic.Trainer.execute" title="matdb.fitting.basic.Trainer.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a>.</li>
</ol>
<p>The basic workflow is:</p>
<ol class="last arabic simple">
<li>Call <a class="reference internal" href="#matdb.fitting.basic.Trainer.jobfile" title="matdb.fitting.basic.Trainer.jobfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jobfile()</span></code></a> to construct a jobfile for HPC resources. This
method calls <a class="reference internal" href="#matdb.fitting.basic.Trainer.command" title="matdb.fitting.basic.Trainer.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">command()</span></code></a> as part of its templating procedures.</li>
<li>Call <a class="reference internal" href="#matdb.fitting.basic.Trainer.execute" title="matdb.fitting.basic.Trainer.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a>, which is a generic method that executes commands in the <cite>jobfile</cite>.</li>
<li>Use <a class="reference internal" href="#matdb.fitting.basic.Trainer.calculator" title="matdb.fitting.basic.Trainer.calculator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">calculator</span></code></a> to calculate energies etc. This method
internally calls <a class="reference internal" href="#matdb.fitting.basic.Trainer.get_calculator" title="matdb.fitting.basic.Trainer.get_calculator"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_calculator()</span></code></a> only once and then caches the
object for the lifetime of the Trainer.</li>
</ol>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the <cite>dbfilter</cite> parameter, you can use one of the standard
comparison <cite>operator</cite> [‘&gt;’, ‘&lt;’, ‘==’, ‘!=’, ‘&gt;=’, ‘&lt;=’]; <cite>value</cite> should be the RHS
of the operator. Finally, <cite>dbs</cite> specifies a list of databases to apply the
filter to.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of this model; used as the output folder name.</li>
<li><strong>controller</strong> (<a class="reference internal" href="controller.html#matdb.fitting.controller.TController" title="matdb.fitting.controller.TController"><em>matdb.fitting.controller.TController</em></a>) – fitting controller
whose data will be used to train the potentials.</li>
<li><strong>dbs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of <cite>str</cite> database patterns from the <cite>db</cite> that should be
included in the training and validation.</li>
<li><strong>execution</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – settings needed to configure the jobfile for running
the fit.</li>
<li><strong>parent</strong> (<a class="reference internal" href="controller.html#matdb.fitting.controller.TrainingSequence" title="matdb.fitting.controller.TrainingSequence"><em>TrainingSequence</em></a>) – training sequence that this trainer belongs
to.</li>
<li><strong>dbfilter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys are attributes on individual <a class="reference internal" href="../atoms.html#matdb.atoms.Atoms" title="matdb.atoms.Atoms"><code class="xref py py-class docutils literal notranslate"><span class="pre">Atoms</span></code></a>
objects; values are dictionaries with keys <cite>operator</cite>, <cite>value</cite> and
<cite>dbs</cite> as described above.</li>
<li><strong>root</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – path to the root directory in which this trainer’s own
folder will be created.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="matdb.fitting.basic.Trainer.fqn">
<code class="descname">fqn</code><a class="headerlink" href="#matdb.fitting.basic.Trainer.fqn" title="Permalink to this definition">¶</a></dt>
<dd><p>fully-qualified name of the trainer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matdb.fitting.basic.Trainer.cust_splits">
<code class="descname">cust_splits</code><a class="headerlink" href="#matdb.fitting.basic.Trainer.cust_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>keys are database sequence names; values are custom
splits that should be used for that particular database sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matdb.fitting.basic.Trainer.root">
<code class="descname">root</code><a class="headerlink" href="#matdb.fitting.basic.Trainer.root" title="Permalink to this definition">¶</a></dt>
<dd><p>path to the trainer’s root directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matdb.fitting.basic.Trainer.calculator">
<code class="descname">calculator</code><a class="headerlink" href="#matdb.fitting.basic.Trainer.calculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">ase.Calculator</span></code> using the latest
fitted GAP potential in this trainer.</p>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.command">
<code class="descname">command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the command that is needed to train the potentials specified by this
object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method <em>must</em> also configure the directory that the
command will run in so that it has the relevant files.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles the cumulative database for this particular fit.</p>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.configs">
<code class="descname">configs</code><span class="sig-paren">(</span><em>kind</em>, <em>asatoms=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a list of configurations of the specified kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kind</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – possible values are [‘train’, ‘holdout’, ‘super’].</li>
<li><strong>asatoms</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, return a <a class="reference internal" href="../atoms.html#matdb.atoms.AtomsList" title="matdb.atoms.AtomsList"><code class="xref py py-class docutils literal notranslate"><span class="pre">AtomsList</span></code></a>
object; otherwise just compile the file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Atoms list for the specified configuration class.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="../atoms.html#matdb.atoms.AtomsList" title="matdb.atoms.AtomsList">matdb.atoms.AtomsList</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>dryrun=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits the job script for the currently configured potential training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dryrun</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, simulate the submission without actually
submitting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if the submission generated a job id (considered
successful).</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.extras">
<code class="descname">extras</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of extra training files that should be included in
the database training. This is used by some trainers that create
additional configurations as part of the training.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method returns an empty list; override it if necessary.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.get_calculator">
<code class="descname">get_calculator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.get_calculator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.get_calculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs an <code class="xref py py-class docutils literal notranslate"><span class="pre">ase.Calculator</span></code> instance using the fitted potential
in this <a class="reference internal" href="#matdb.fitting.basic.Trainer" title="matdb.fitting.basic.Trainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trainer</span></code></a> sub-class.</p>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.jobfile">
<code class="descname">jobfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.jobfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.jobfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the job file for training the potential. This includes creating
folders, the training file and setting up any other dependencies
required by the trainer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method also runs <a class="reference internal" href="#matdb.fitting.basic.Trainer.command" title="matdb.fitting.basic.Trainer.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">command()</span></code></a>, which configures the
directory that the executable will run in. You are responsible for
sub-classing that method correctly.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.quantities">
<code class="descname">quantities</code><span class="sig-paren">(</span><em>params=None</em>, <em>properties=None</em>, <em>aggregators=None</em>, <em>kind='train'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.quantities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.quantities" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns datasets derived from the atoms objects that are present in
this trainers compiled databases.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a property is missing from a particular atoms object, it is
just ignored. That means the arrays returned from this method may not
all have exactly the same length as the number of entries in the
database.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of <cite>str</cite> parameter names to extract from each atoms
object.</li>
<li><strong>properties</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) – list of <cite>str</cite> property names to extract from each
atoms object.</li>
<li><strong>aggregators</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – keys are <cite>str</cite> property names; values are <cite>str</cite>
FQN of importable functions that can be applied to a
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> to produce a single scalar value. These are
used to reduce an array of property values to a single number for a
particular configuration. If not specified, the raw arrays are
returned instead.</li>
<li><strong>kind</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – one of [‘train’, ‘holdout’, ‘super’, ‘*’]. Specifies which of
the database sets to use. If ‘*’ is specified, then all of them are
combined.</li>
<li><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) – additional dummy arguments that aren’t needed, but allow the <cite>**</cite> syntax to be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">keys are either property or parameter names. Values are
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> for parameters; for properties, since the arrays
may have different sizes, the value will be a list of
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.16)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.ready">
<code class="descname">ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.ready"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the training step is complete. This method usually
just tests whether the <a class="reference internal" href="#matdb.fitting.basic.Trainer.calculator" title="matdb.fitting.basic.Trainer.calculator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">calculator</span></code></a> is a valid object. However,
for training steps that don’t produce calculators, this method can be
overridden.</p>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.status">
<code class="descname">status</code><span class="sig-paren">(</span><em>printed=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns or prints the current status of the training.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>printed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, print the status to screen; otherwise,
return a dictionary with the relevant quantities.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="matdb.fitting.basic.Trainer.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><em>refkey</em>, <em>configs=None</em>, <em>energy=True</em>, <em>force=True</em>, <em>virial=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/matdb/fitting/basic.html#Trainer.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#matdb.fitting.basic.Trainer.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates the calculator in this training object against the <cite>holdout.h5</cite>
configurations in the source databases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>refkey</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – name of the key on the atoms objects that the
interatomic potential should be compared against; i.e., these are
the reference energies, forces and virials to validate against.</li>
<li><strong>configs</strong> (<a class="reference internal" href="../atoms.html#matdb.atoms.AtomsList" title="matdb.atoms.AtomsList"><em>matdb.atoms.AtomsList</em></a>) – list of configurations to validate
against. If not provided, built-in holdout set will be used.</li>
<li><strong>energy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, validate the energies of each
configuration.</li>
<li><strong>forces</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, validate the force <em>components</em> of each
configuration.</li>
<li><strong>virial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – when True, validate the virial <em>components</em> of each
configuration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">with keys [“<a href="#id1"><span class="problematic" id="id2">*</span></a>_ref”, “<a href="#id3"><span class="problematic" id="id4">*</span></a>_pot”] where the values are
reference-calculated and potential-calculated predictions for the
energies, force components or virial components.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="matdb.fitting.basic.Trainer.validation">
<code class="descname">validation</code><a class="headerlink" href="#matdb.fitting.basic.Trainer.validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="../atoms.html#matdb.atoms.AtomsList" title="matdb.atoms.AtomsList"><code class="xref py py-class docutils literal notranslate"><span class="pre">AtomsList</span></code></a> of configurations that can be
used for potential validation.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="mtp.html"
                        title="previous chapter">Fitting for MTP Potentials</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="controller.html"
                        title="next chapter">Training Controller Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/fitting/basic.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="controller.html" title="Training Controller Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="mtp.html" title="Fitting for MTP Potentials"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">matdb 0.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fitting.html" >Potential Fitting API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Conrad W. Rosenbrock.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>